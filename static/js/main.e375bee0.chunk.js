(this["webpackJsonpdonuts-no-2"]=this["webpackJsonpdonuts-no-2"]||[]).push([[0],{10:function(t,i,n){},13:function(t,i,n){"use strict";n.r(i);var e=n(0),o=n(1),a=n.n(o),r=n(4),s=n.n(r),u=(n(10),n(2));window.p5=u;n(12);var d=n.p+"static/media/donuts-no-2.4c796ffd.ogg",c=[{duration:2.264148,durationTicks:61440,midi:52,name:"E3",ticks:0,time:0,velocity:.7874015748031497},{duration:2.264148,durationTicks:61440,midi:55,name:"G3",ticks:61440,time:2.264148,velocity:.7874015748031497},{duration:2.2641479999999996,durationTicks:61440,midi:54,name:"F#3",ticks:122880,time:4.528296,velocity:.7874015748031497},{duration:2.2641480000000005,durationTicks:61440,midi:57,name:"A3",ticks:184320,time:6.792444,velocity:.7874015748031497},{duration:2.2641480000000005,durationTicks:61440,midi:52,name:"E3",ticks:245760,time:9.056592,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:55,name:"G3",ticks:307200,time:11.32074,velocity:.7874015748031497},{duration:2.2641480000000005,durationTicks:61440,midi:54,name:"F#3",ticks:368640,time:13.584888,velocity:.7874015748031497},{duration:2.2641480000000005,durationTicks:61440,midi:48,name:"C3",ticks:430080,time:15.849036,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:52,name:"E3",ticks:491520,time:18.113184,velocity:.7874015748031497},{duration:2.2641480000000023,durationTicks:61440,midi:55,name:"G3",ticks:552960,time:20.377332,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:54,name:"F#3",ticks:614400,time:22.64148,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:57,name:"A3",ticks:675840,time:24.905628,velocity:.7874015748031497},{duration:2.2641480000000023,durationTicks:61440,midi:52,name:"E3",ticks:737280,time:27.169776,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:55,name:"G3",ticks:798720,time:29.433924,velocity:.7874015748031497},{duration:2.2641480000000023,durationTicks:61440,midi:54,name:"F#3",ticks:860160,time:31.698072,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:48,name:"C3",ticks:921600,time:33.96222,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:52,name:"E3",ticks:983040,time:36.226368,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:55,name:"G3",ticks:1044480,time:38.490516,velocity:.7874015748031497},{duration:2.264148000000006,durationTicks:61440,midi:54,name:"F#3",ticks:1105920,time:40.754664,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:57,name:"A3",ticks:1167360,time:43.018812000000004,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:52,name:"E3",ticks:1228800,time:45.28296,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:55,name:"G3",ticks:1290240,time:47.547108,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:54,name:"F#3",ticks:1351680,time:49.811256,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:48,name:"C3",ticks:1413120,time:52.075404,velocity:.7874015748031497},{duration:2.2641479999999987,durationTicks:61440,midi:52,name:"E3",ticks:983040,time:54.345,velocity:.7874015748031497}],m=function(){Object(o.useRef)();var t=function(t){t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=null,t.song=null,t.tempo=106,t.hueRanges={1:[-30,30,0],2:[31,90,60],3:[91,150,120],4:[151,210,180],5:[211,270,240],6:[271,330,300]},t.rotationOptions=[3,4,6,8,12],t.iterationOptions=[16,32,48,64],t.cueSet1Completed=[],t.cueSet2Completed=[],t.preload=function(){t.song=t.loadSound(d)},t.setup=function(){t.colorMode(t.HSB),t.loadDonutGroupsArray(),t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.noFill(),t.strokeWeight(.5),t.frameRate(30);for(var i=0;i<c.length;i++){var n={currentCue:i+1,duration:c[i].duration,time:c[i].time,midi:c[i].midi};t.song.addCue(c[i].time,t.executeCueSet1,n)}},t.currentDonutGroupIndex=0,t.donutsArray=[],t.executeCueSet1=function(i){var n=i.currentCue;t.cueSet1Completed.includes(n)||function(){t.cueSet1Completed.push(n);for(var e=t.donutGroupsArray[t.currentDonutGroupIndex],o=e.frames.length/16,a=parseInt(1e3*i.duration)/16,r=function(i){setTimeout((function(){t.donutsArray=t.donutsArray.concat(e.frames.slice(i*o,i*o+o))}),a*i)},s=0;s<16;s++)r(s);t.currentDonutGroupIndex++,t.donutsArray=[],n>24&&(t.currentDonutGroupIndex=24,t.canvas.addClass("fade-out"))}()},t.draw=function(){if(t.background(0,0,0,.9),t.song._lastPos>0&&t.currentDonutGroupIndex>=0){var i=t.donutGroupsArray[t.currentDonutGroupIndex];Object.keys(i.translate).length&&t.translate(i.translate.x,i.translate.y),t.drawDonuts(t.currentDonutGroupIndex)}},t.drawDonuts=function(i){for(var n=0;n<t.donutsArray.length;n++){var e=t.donutsArray[n];e.hasOwnProperty("stroke")&&t.stroke(e.stroke.colour,e.stroke.alpha),e.hasOwnProperty("ellipse")&&t.ellipse(e.ellipse.x,e.ellipse.y,e.ellipse.width,e.ellipse.hegith),e.hasOwnProperty("rotate")&&t.rotate(e.rotate.angle)}},t.donutGroupsArray=[],t.loadDonutGroupsArray=function(){for(var i=0,n=t.canvasWidth/2,e=t.canvasHeight/2;i<25;){var o=t.floor(t.random(1,7)),a=o+3;a>6&&(a-=6);for(var r=t.color(t.random(t.hueRanges[o][0],t.hueRanges[o][1]),100,100),s=t.color(t.random(t.hueRanges[a][0],t.hueRanges[a][1]),100,100),u=[],d=0,c=t.canvasWidth,m=0,l=t.lerpColor(r,s,m),p=t.random(t.rotationOptions),v=t.random(t.iterationOptions),k=t.random(30,80);d<c;){for(var h=0;h<2*p;h++){for(var y=-2;y<=2;y++)u.push({stroke:{colour:l,alpha:181-16*y}}),u.push({ellipse:{x:d,y:20,width:k+3*y,height:k+3*y}});u.push({rotate:{angle:t.PI/p}})}d+=c/v,m+=1/v/2,l=t.lerpColor(r,s,m)}t.donutGroupsArray.push({x:n,y:e,translate:{x:n,y:e},frames:u,numOfRotations:t.random(t.rotationOptions),numOfIterations:t.random(t.iterationOptions),shapeSize:t.random(10,80),fromColour:r,toColour:s}),i++,n=t.random(0,t.canvasWidth),e=t.random(0,t.canvasHeight)}},t.mousePressed=function(){t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&t.reset(),t.canvas.removeClass("fade-out"),t.song.play())},t.creditsLogged=!1,t.logCredits=function(){!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/donuts-no-2"),t.song.stop())},t.reset=function(){t.clear(),t.cueSet1Completed=[],t.donutGroupsArray=[],t.currentDonutGroupIndex=0,t.loadDonutGroupsArray()},t.updateCanvasDimensions=function(){t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.createCanvas(t.canvasWidth,t.canvasHeight),t.redraw()},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(o.useEffect)((function(){new u(t)}),[]),Object(e.jsx)(e.Fragment,{})};var l=function(){return Object(e.jsx)(m,{})};s.a.render(Object(e.jsx)(a.a.StrictMode,{children:Object(e.jsx)(l,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.e375bee0.chunk.js.map